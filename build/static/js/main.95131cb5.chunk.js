(this["webpackJsonpmy-deeze-app"]=this["webpackJsonpmy-deeze-app"]||[]).push([[0],{50:function(e,t,a){e.exports=a(83)},55:function(e,t,a){},56:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},57:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),o=a(18),r=a.n(o),s=(a(55),a(32),a(33),a(56),a(57),a(12)),l=a(13),i=a(15),u=a(14),m=(a(58),a(3)),d=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={isOpen:!1},e.toggleCollapse=function(){e.setState({isOpen:!e.state.isOpen})},e}return Object(l.a)(a,[{key:"render",value:function(){return c.a.createElement(m.m,{color:"indigo",dark:!0,expand:"md"},c.a.createElement(m.n,null,c.a.createElement(m.l,{to:"/"},c.a.createElement("strong",{className:"white-text"},"Deezer App"))),c.a.createElement(m.p,{onClick:this.toggleCollapse}),c.a.createElement(m.d,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},c.a.createElement(m.o,{left:!0},c.a.createElement(m.k,null,c.a.createElement(m.l,{to:"Search"},"Search")),c.a.createElement(m.k,null,c.a.createElement(m.l,{to:"Trending"},"Trending")),c.a.createElement(m.k,null,c.a.createElement(m.l,{to:"Saved"},"My Favorite music")))))}}]),a}(n.Component),g=a(11),h=a(6),p=a(30),v=a(49),f=a.n(v),E=a(17),b=a.n(E),y=a(21),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={music:e.music,isSaved:"",imageUrl:e.imageUrl,artist:e.artist,favoriteSongs:[]},console.log("track here"),console.log(e.artist),n}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getFavoriteMusic()}},{key:"getFavoriteMusic",value:function(){var e=this,t=window.db,a=[];t.open().catch((function(e){console.error("Could not open local database: ",e)})),t.transaction("r",t.musics,Object(y.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.musics.toArray();case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)})),setTimeout((function(){e.setState({favoriteSongs:a}),console.log("favorite songs"),console.log(e.state.favoriteSongs),e.isFavorite(a)}),1e3)}},{key:"isFavorite",value:function(e){var t=this;console.log("isfavirite"),console.log(e),this.state.favoriteSongs.forEach((function(e){console.log("isfavirite2"),e.id===t.state.music.id&&(console.log("true"),t.setState({isSaved:!0}),console.log("isSaved"),console.log(t.state.isSaved))}))}},{key:"removeTrackFromFavorite",value:function(e){var t=this;console.log("remove "),console.log(e.title);var a=window.db;a.open().catch((function(e){return console.error("Could not open local db:",e)})),a.transaction("rw",a.musics,(function(){console.log("trans"),a.musics.delete(e.id)})).catch((function(e){return console.error(e)})),caches.open("musics").then((function(e){e.delete(t.state.imageUrl)})).catch((function(e){return console.error("Could not save GIF image to cache:",e)}))}},{key:"addTrackToFavorite",value:function(e){var t=this;console.log("add "),console.log(e.title);var a=window.db;a.open().catch((function(e){return console.error("Could not open local db:",e)})),a.transaction("rw",a.musics,(function(){console.log("trans"),a.musics.add({id:e.id,title:e.title,imageUrl:e.album.cover,artist:e.artist.name,duration:e.duration,album:e.album,preview:e.preview})})).catch((function(e){return console.error(e)})),caches.open("musics").then((function(e){console.log("cachchhhhh"),console.log(t.state.imageUrl),e.add(t.state.imageUrl)})).catch((function(e){return console.error("Could not save GIF image to cache:",e)}))}},{key:"updateList",value:function(e){this.setState({music:""})}},{key:"render",value:function(){var e=this;return c.a.createElement(m.c,{md:"6"},this.state.music&&c.a.createElement(m.j,null,c.a.createElement(m.j,{left:!0,className:"mr-3",href:"#"},c.a.createElement(m.j,{object:!0,src:this.state.imageUrl,alt:""})),c.a.createElement(m.j,{body:!0},c.a.createElement(m.j,{heading:!0},this.state.music.title,0==this.state.isSaved?c.a.createElement(m.g,{far:!0,icon:"heart",style:{color:"blue",float:"right",marginRight:"9%",cursor:"pointer"},onClick:function(){e.setState({isSaved:!0}),e.addTrackToFavorite(e.state.music)}}):c.a.createElement(m.g,{icon:"heart",style:{color:"blue",float:"right",cursor:"pointer",marginRight:"9%"},onClick:function(){e.setState({isSaved:!1}),e.removeTrackFromFavorite(e.state.music),e.updateList()}})),this.state.artist,c.a.createElement("br",null),console.log("test"),console.log(this.state.artist),c.a.createElement("label",{className:"ttx"},c.a.createElement("strong",null,"Duration : "),(this.state.music.duration-this.state.music.duration%60)/60,":",this.state.music.duration%60)),c.a.createElement(g.b,{to:{pathname:"/player",music:this.state.music,artist:this.state.artist}},c.a.createElement(m.g,{icon:"play-circle",style:{color:"blue",float:"right",cursor:"pointer",marginRight:"9%"}}))))}}]),a}(c.a.Component);var j=function(e){var t=Object(n.useState)(""),a=Object(p.a)(t,2),o=a[0],r=a[1],s=Object(n.useState)([]),l=Object(p.a)(s,2),i=l[0],u=l[1];return c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement(m.e,null,c.a.createElement(m.s,null,c.a.createElement(m.c,{md:"12"},c.a.createElement(m.f,null,c.a.createElement("div",{className:"md-form active-cyan active-cyan-2 mb-3"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text purple lighten-3",id:"basic-text1"},c.a.createElement(m.g,{className:"text-# 4285F4",icon:"search"}))),c.a.createElement("input",{className:"form-control my-0 py-1",type:"text",onChange:function(e){r(e.target.value),console.log(e.target.value)},placeholder:"Search","aria-label":"Search"}),c.a.createElement(m.b,{gradient:"# 4285F4",rounded:!0,size:"sm",type:"submit",onClick:function(e){e.preventDefault();var t=encodeURIComponent(o);f()("https://api.deezer.com/search?q=".concat(t,"&output=jsonp&limit=5")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){u(e),console.log(e)}))},className:"mr-auto"},"Search"))))))),c.a.createElement("div",{className:"card-group search-results"},i&&i.map((function(t){return c.a.createElement(k,Object.assign({},e,{key:t.id,music:t,artist:t.artist.name,imageUrl:t.album.cover}))}))))},w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={musics:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.onSearch()}},{key:"onSearch",value:function(){var e=Object(y.a)(b.a.mark((function e(){var t,a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere.herokuapp.com/","https://api.deezer.com/radio/7/tracks&limit=40",t=[],e.next=4,fetch("https://cors-anywhere.herokuapp.com/https://api.deezer.com/radio/7/tracks&limit=40").then((function(e){return e.json()})).then((function(e){console.log(e),t=e.data,console.log("newdata"),console.log(t)}));case 4:setTimeout((function(){a.setState({musics:t}),console.log(a.state.musics)}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",null,"Les tendances"),c.a.createElement("div",{className:"card-group search-results"},console.log("this.state.musics"),console.log(this.state.musics),this.state.musics.map((function(e){return console.log("music"),console.log(e),console.log(e.album.cover),c.a.createElement(k,{key:e.id,music:e,artist:e.artist.name,imageUrl:e.album.cover})}))))}}]),a}(c.a.Component),S=(c.a.Component,function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={musics:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getFavoriteMusics()}},{key:"getFavoriteMusics",value:function(){var e=this,t=window.db,a=[];t.open().catch((function(e){console.error("Could not open local database: ",e)})),t.transaction("r",t.musics,Object(y.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.musics.toArray();case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)})),setTimeout((function(){e.setState({musics:a}),console.log("artissssssssss"),console.log(e.state.musics)}),1e3)}},{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement("h1",null,"my favorite "),c.a.createElement("div",{className:"card-group search-results"},this.state.musics.map((function(t){return c.a.createElement(k,Object.assign({},e.state.props,{key:t.id,music:t,artist:t.artist,imageUrl:t.imageUrl}))}))))}}]),a}(c.a.Component));a(82);var O=function(e){var t=e.isSaved;return console.log(e.location),console.log(e),console.log("gggggggggggggggg"),console.log(e.location.artist),c.a.createElement("div",null,void 0!=e.location.music&&c.a.createElement(m.e,{className:"container_player"},c.a.createElement(m.s,null,c.a.createElement("img",{className:"img_builder",src:e.location.music.album.cover_big})),c.a.createElement(m.s,null,c.a.createElement(m.c,{className:"col_header",md:"12"},c.a.createElement("h1",null,e.location.music.title),c.a.createElement("label",{className:"ttx"},c.a.createElement("strong",null,"Album : "),e.location.music.album.title),c.a.createElement("br",null),c.a.createElement("label",{className:"ttx"},c.a.createElement("strong",null,"Artiste : "),e.location.artist),c.a.createElement("br",null),c.a.createElement("label",{className:"ttx"},c.a.createElement("strong",null,"Duration : "),(e.location.music.duration-e.location.music.duration%60)/60,":",e.location.music.duration%60))),c.a.createElement(m.s,null,c.a.createElement(m.c,{className:"col_body",md:"12"},c.a.createElement("div",{className:"body_1"},c.a.createElement(m.g,{onClick:void document.querySelector("audio_w"),className:"bk",icon:"step-backward"}),c.a.createElement(m.g,{className:"ct",far:!0,icon:"play-circle"}),c.a.createElement(m.g,{className:"fr",icon:"step-forward"})),c.a.createElement("audio",{id:"A",src:e.location.music.preview,className:"audio_w",controls:!0}),c.a.createElement("div",{className:"body_3"},c.a.createElement(m.g,{className:"retweet",icon:"fas fa-retweet"}),1==t?c.a.createElement(m.g,{className:"ht",icon:"far fa-heart"}):c.a.createElement(m.g,{className:"ht",far:!0,icon:"far fa-heart"}))))))};var N=function(e){return c.a.createElement("div",null,c.a.createElement("h1",null,"Welcome to Deezer App"),c.a.createElement("h2",null,"progressive web app made by : Sylia "),c.a.createElement("h3",null,"using react js, bootstrap "))};var C=function(){return"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("./serviceworker.js").then((function(e){return console.log("Success:",e.scope)})).catch((function(e){return console.log("Failure:",e)}))})),c.a.createElement(g.a,null,c.a.createElement(d,null),c.a.createElement(h.a,{path:"/player",component:O}),c.a.createElement(h.a,{path:"/trending",component:w}),c.a.createElement(h.a,{path:"/Search",component:j}),c.a.createElement(h.a,{path:"/saved",component:S}),c.a.createElement(h.a,{path:"/",component:N}))};r.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.95131cb5.chunk.js.map